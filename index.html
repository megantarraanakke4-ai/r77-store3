<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R77 FISH IT STORE</title>
<link rel="icon" type="image/png" href="LOGO R77 (1).png">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif}
body{background:#0b0b0f;color:#fff}

/* HEADER */
header{
display:flex;align-items:center;
padding:15px 50px;
background:linear-gradient(90deg,#000,#1a0000);
border-bottom:2px solid #ff1e1e
}
.logo{display:flex;align-items:center;gap:10px}
.logo img{width:45px}
.logo h1{color:#ff1e1e;letter-spacing:2px}
.admin-btn{
margin-left:auto;
padding:8px 16px;
background:#ff1e1e;border:none;color:#fff;
font-weight:bold;border-radius:6px;cursor:pointer
}

/* PRODUCTS */
#products{padding:60px 50px;text-align:center}
#products h2{color:#ff1e1e;margin-bottom:40px}
.products-container{
display:flex;gap:30px;justify-content:center;flex-wrap:wrap
}
.product-card{
background:#141414;border:2px solid #ff1e1e;border-radius:10px;
width:250px;padding:20px;transition:.3s
}
.product-card:hover{transform:scale(1.05);box-shadow:0 0 20px #ff1e1e}
.product-card img{width:100%;border-radius:8px}
.product-card h3{margin:15px 0 5px}
.product-card p{color:#ff1e1e;font-weight:bold}
.product-card button{
margin-top:10px;width:100%;padding:10px;
background:#ff1e1e;color:#fff;border:none;border-radius:5px;
font-weight:bold;cursor:pointer
}

/* POPUP */
.popup{
display:none;position:fixed;inset:0;
background:rgba(0,0,0,.85);
justify-content:center;align-items:center;z-index:10000
}
.box{
background:#141414;border:2px solid #ff1e1e;
border-radius:12px;padding:20px;text-align:center;width:340px
}
.box input{
width:100%;padding:8px;margin:8px 0;border-radius:5px;border:none
}
.box button{
margin-top:10px;width:100%;padding:10px;
background:#ff1e1e;color:#fff;border:none;border-radius:5px;font-weight:bold
}

/* WHATSAPP */
.wa-chat{
position:fixed;bottom:20px;right:20px;
background:#25d366;color:#fff;padding:14px 20px;
border-radius:50px;font-weight:bold;text-decoration:none
}

/* CURTAIN */
.curtain-wrapper{
position:fixed;inset:0;display:flex;z-index:20000;background:#000
}
.curtain{width:50%;background:linear-gradient(90deg,#000,#1a0000);
transition:transform 1.4s}
.curtain-wrapper.open .left{transform:translateX(-110%)}
.curtain-wrapper.open .right{transform:translateX(110%)}
.curtain-center{
position:absolute;inset:0;display:flex;flex-direction:column;
justify-content:center;align-items:center
}
.curtain-center h1{color:#ff1e1e;font-size:46px}
.curtain-center button{
margin-top:20px;padding:14px 40px;
background:#ff1e1e;border:none;color:#fff;font-weight:bold
}
</style>
</head>

<body>

<audio id="gateSound">
<source src="Idgitaf - Sedia Aku Sebelum Hujan (Official Lyric Video).mp3">
</audio>

<div class="curtain-wrapper" id="curtain">
<div class="curtain left"></div>
<div class="curtain right"></div>
<div class="curtain-center">
<h1>WELCOME R77 FISH</h1>
<button onclick="openCurtain()">MASUK STORE</button>
</div>
</div>

<header>
<div class="logo">
<img src="LOGO R77 (1).png">
<h1>R77FISH</h1>
</div>
<button class="admin-btn" onclick="openAdminLogin()">ADMIN</button>
</header>

<section id="products">
<h2>ðŸ”¥ STOK SAAT INI ðŸ”¥</h2>
<div class="products-container">

<div class="product-card">
<img src="Screenshot_28.png">
<h3>MEGALODON OCEAN</h3>
<p>Rp 130.000</p>
<p>Stok: <span id="stock-MEGALODON">5</span></p>
<button id="btn-MEGALODON" onclick="openPayment('MEGALODON OCEAN',130000,'MEGALODON')">BELI</button>
</div>

<div class="product-card">
<img src="batu evol.png">
<h3>BATU ENCHAN EVO</h3>
<p>Rp 1.000</p>
<p>Stok: <span id="stock-EVO">1070</span></p>
<button id="btn-EVO" onclick="openPayment('BATU ENCHAN EVO',1000,'EVO')">BELI</button>
</div>

<div class="product-card">
<img src="tumbal.jpg">
<h3>SC TUMBAL</h3>
<p>Rp 3.000</p>
<p>Stok: <span id="stock-TUMBAL">5000</span></p>
<button id="btn-TUMBAL" onclick="openPayment('SC TUMBAL',3000,'TUMBAL')">BELI</button>
</div>

</div>
</section>

<div class="popup" id="paymentPopup">
<div class="box">
<h3 id="productName"></h3>
<input type="number" id="qty" min="1" value="1" oninput="updateTotal()">
<h2 id="totalPrice"></h2>
<button onclick="sendToWA()">KIRIM KE CS</button>
<button onclick="paymentPopup.style.display='none'">TUTUP</button>
</div>
</div>

<div class="popup" id="adminLogin">
<div class="box">
<h3>ADMIN LOGIN</h3>
<input type="password" id="adminPass" placeholder="Password Admin">
<button onclick="loginAdmin()">LOGIN</button>
<button onclick="adminLogin.style.display='none'">BATAL</button>
</div>
</div>

<div class="popup" id="adminPanel">
<div class="box">
<h3>ADMIN PANEL</h3>
<input id="edit-MEGALODON" type="number">
<input id="edit-EVO" type="number">
<input id="edit-TUMBAL" type="number">
<button onclick="saveStock()">SIMPAN</button>
<button onclick="adminPanel.style.display='none'">KELUAR</button>
</div>
</div>

<a href="https://wa.me/6281382500612" class="wa-chat" target="_blank">CHAT CS</a>

<script>
/* FIX BUTTON MASUK STORE */
const gateSound = document.getElementById("gateSound");
const curtain = document.getElementById("curtain");

const ADMIN_PASSWORD="r77admin";
let price=0,product="",productKey="";

let stocks=JSON.parse(localStorage.getItem("stocks"))||{
MEGALODON:5,EVO:1070,TUMBAL:5000
};

function renderStock(){
for(let k in stocks){
document.getElementById("stock-"+k).innerText=stocks[k];
let b=document.getElementById("btn-"+k);
if(stocks[k]<=0){
b.innerText="HABIS";b.disabled=true;b.style.background="#555";
}
}
}
renderStock();

function openCurtain(){
  if(gateSound){
    gateSound.currentTime=0;
    gateSound.play().catch(()=>{});
  }
  curtain.classList.add("open");
  setTimeout(()=>curtain.style.display="none",1500);
}

function openPayment(p,h,k){
product=p;price=h;productKey=k;
qty.value=1;qty.max=stocks[k];
productName.innerText=p;
updateTotal();
paymentPopup.style.display="flex";
}

function updateTotal(){
totalPrice.innerText="Rp "+(qty.value*price).toLocaleString("id-ID");
}

function sendToWA(){
let q=parseInt(qty.value);
stocks[productKey]-=q;
localStorage.setItem("stocks",JSON.stringify(stocks));
renderStock();
window.open(
`https://wa.me/6281382500612?text=Halo Admin R77%0AProduk:${product}%0AJumlah:${q}%0ATotal:Rp ${(q*price).toLocaleString("id-ID")}`,
"_blank");
paymentPopup.style.display="none";
}

function openAdminLogin(){adminLogin.style.display="flex"}
function loginAdmin(){
if(adminPass.value===ADMIN_PASSWORD){
adminLogin.style.display="none";
adminPanel.style.display="flex";
document.getElementById("edit-MEGALODON").value=stocks.MEGALODON;
document.getElementById("edit-EVO").value=stocks.EVO;
document.getElementById("edit-TUMBAL").value=stocks.TUMBAL;
}else alert("Password salah");
}
function saveStock(){
  stocks.MEGALODON = parseInt(document.getElementById("edit-MEGALODON").value);
  stocks.EVO       = parseInt(document.getElementById("edit-EVO").value);
  stocks.TUMBAL    = parseInt(document.getElementById("edit-TUMBAL").value);

  localStorage.setItem("stocks", JSON.stringify(stocks));
  renderStock();
  alert("Stok berhasil disimpan");
}

</script>

</body>
</html>
