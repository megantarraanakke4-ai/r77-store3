<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R77 FISH IT STORE</title>
<link rel="icon" type="image/png" href="LOGO R77 (1).png">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif}
body{background:#0b0b0f;color:#fff}

/* HEADER */
header{display:flex;align-items:center;padding:15px 50px;
background:linear-gradient(90deg,#000,#1a0000);
border-bottom:2px solid #ff1e1e}
.logo{display:flex;align-items:center;gap:10px}
.logo img{width:45px}
.logo h1{color:#ff1e1e}

/* PRODUCTS */
#products{padding:60px 50px;text-align:center}
.products-container{display:flex;gap:30px;justify-content:center;flex-wrap:wrap}
.product-card{background:#141414;border:2px solid #ff1e1e;border-radius:10px;
width:250px;padding:20px}
.product-card img{width:100%;border-radius:8px}
.product-card button{width:100%;padding:10px;background:#ff1e1e;border:none;color:#fff}

/* POPUP */
.payment-popup{display:none;position:fixed;inset:0;
background:rgba(0,0,0,.8);justify-content:center;align-items:center}
.payment-box{background:#141414;padding:20px;border:2px solid #ff1e1e}

/* ADMIN */
#adminPanel{display:none;position:fixed;inset:0;background:#000;z-index:9999;padding:30px}
</style>
</head>

<body>

<header>
<div class="logo">
<img src="LOGO R77 (1).png">
<h1>R77FISH</h1>
</div>
</header>

<section id="products">
<h2>ðŸ”¥ STOK SAAT INI ðŸ”¥</h2>
<div class="products-container">

<div class="product-card">
<h3>MEGALODON OCEAN</h3>
<p>Rp 130.000</p>
<p>Stok: <span id="stock-MEGALODON">3</span></p>
<button id="btn-MEGALODON" onclick="openPayment('MEGALODON OCEAN',130000,'MEGALODON')">BELI</button>
</div>

<div class="product-card">
<h3>BATU ENCHAN EVO</h3>
<p>Rp 1.000</p>
<p>Stok: <span id="stock-EVO">10</span></p>
<button id="btn-EVO" onclick="openPayment('BATU ENCHAN EVO',1000,'EVO')">BELI</button>
</div>

</div>
</section>

<div class="payment-popup" id="paymentPopup">
<div class="payment-box">
<h3 id="productName"></h3>
<input type="number" id="qty" value="1">
<h3 id="totalPrice"></h3>
<button onclick="sendToWA()">KIRIM WA</button>
<button onclick="closePayment()">TUTUP</button>
</div>
</div>

<!-- ADMIN PANEL -->
<div id="adminPanel">
<h2>ADMIN PANEL</h2>
<input id="adminPassword" placeholder="Password">
<button onclick="loginAdmin()">LOGIN</button>
<div id="adminContent" style="display:none"></div>
</div>

<script>
let stocks=JSON.parse(localStorage.getItem("stocks"))||{MEGALODON:3,EVO:10};
let price=0,product="",productKey="";

function renderStock(){
for(let k in stocks){
document.getElementById("stock-"+k).innerText=stocks[k];
}
}
renderStock();

function openPayment(p,h,k){
product=p;price=h;productKey=k;
document.getElementById("productName").innerText=p;
document.getElementById("totalPrice").innerText="Rp "+h;
paymentPopup.style.display="flex";
}

function closePayment(){paymentPopup.style.display="none"}

function sendToWA(){
stocks[productKey]--;
localStorage.setItem("stocks",JSON.stringify(stocks));
renderStock();
window.open("https://wa.me/6281382500612","_blank");
closePayment();
}

if(location.search.includes("admin=true")){
document.getElementById("adminPanel").style.display="block";
}

function loginAdmin(){
if(adminPassword.value!=="r77admin") return alert("SALAH");
adminContent.style.display="block";
adminContent.innerHTML=`
MEGALODON <input id="a1" value="${stocks.MEGALODON}"><br>
EVO <input id="a2" value="${stocks.EVO}">
<button onclick="saveAdmin()">SIMPAN</button>`;
}

function saveAdmin(){
stocks.MEGALODON=parseInt(a1.value);
stocks.EVO=parseInt(a2.value);
localStorage.setItem("stocks",JSON.stringify(stocks));
renderStock();
alert("TERSIMPAN");
}
</script>

</body>
</html>
